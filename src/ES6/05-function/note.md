# 4-1. 参数默认值

## 使用

在书写形参时，直接给形参赋值，附的值即为默认值

这样一来，当调用函数时，如果没有给对应的参数赋值（给它的值是 undefined），则会自动使用默认值。

## [扩展]对 arguments 的影响

只要给函数加上参数默认值，该函数会自动变量严格模式下的规则：arguments 和形参脱离

## [扩展]留意暂时性死区

形参和 ES6 中的 let 或 const 声明一样，具有作用域，并且根据参数的声明顺序，存在暂时性死区。

# 4-2. 剩余参数

arguments 的缺陷：

1. 如果和形参配合使用，容易导致混乱
2. 从语义上，使用 arguments 获取参数，由于形参缺失，无法从函数定义上理解函数的真实意图

ES6 的剩余参数专门用于手机末尾的所有参数，将其放置到一个形参数组中。

语法:

```js
function (...形参名){

}
```

**细节：**

1. 一个函数，仅能出现一个剩余参数
2. 一个函数，如果有剩余参数，剩余参数必须是最后一个参数

# 4-3. 展开运算符

使用方式：`...要展开的东西`

## 对数组展开 ES6

## 对对象展开 ES7

# 4-5. 明确函数的双重用途

ES6 提供了一个特殊的 API，可以使用该 API 在函数内部，判断该函数是否使用了 new 来调用

```js
new.target
//该表达式，得到的是：如果没有使用new来调用函数，则返回undefined
//如果使用new调用函数，则得到的是new关键字后面的函数本身
```

# 4-6. 箭头函数

回顾：this 指向

1. 通过对象调用函数，this 指向对象
2. 直接调用函数，this 指向全局对象
3. 如果通过 new 调用函数，this 指向新创建的对象
4. 如果通过 apply、call、bind 调用函数，this 指向指定的数据
5. 如果是 DOM 事件函数，this 指向事件源

## 使用语法

箭头函数是一个函数表达式，理论上，任何使用函数表达式的场景都可以使用箭头函数

完整语法：

```js
(参数1, 参数2, ...)=>{
    //函数体
}
```

如果参数只有一个，可以省略小括号

```js
;(参数) => {}
```

如果箭头函数只有一条返回语句，可以省略大括号，和 return 关键字

```js
;(参数) => 返回值
```

## 注意细节

- 箭头函数中，不存在 this、arguments、new.target，如果使用了，则使用的是函数外层的对应的 this、arguments、new.target
- 箭头函数没有原型
- 箭头函数不能作用构造函数使用

## 应用场景

1. 临时性使用的函数，并不会可以调用它，比如：
   1. 事件处理函数
   2. 异步处理函数
   3. 其他临时性的函数
2. 为了绑定外层 this 的函数
3. 在不影响其他代码的情况下，保持代码的简洁，最常见的，数组方法中的回调函数
